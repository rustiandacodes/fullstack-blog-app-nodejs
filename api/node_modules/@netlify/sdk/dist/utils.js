export function catchMaybePromise(maybePromise, onError, cleanup) {
    if (
    // much faster than instanceof
    maybePromise &&
        typeof maybePromise === `object` &&
        `catch` in maybePromise) {
        return maybePromise.catch(onError).finally(cleanup);
    }
    else {
        try {
            return maybePromise;
        }
        catch (e) {
            onError(e);
        }
        finally {
            cleanup();
        }
    }
}
